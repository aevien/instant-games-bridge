var yt=Object.defineProperty;var Ze=_=>{throw TypeError(_)};var vt=(_,r,e)=>r in _?yt(_,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[r]=e;var M=(_,r,e)=>vt(_,typeof r!="symbol"?r+"":r,e),Ue=(_,r,e)=>r.has(_)||Ze("Cannot "+e);var h=(_,r,e)=>(Ue(_,r,"read from private field"),e?e.call(_):r.get(_)),O=(_,r,e)=>r.has(_)?Ze("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(_):r.set(_,e),R=(_,r,e,t)=>(Ue(_,r,"write to private field"),t?t.call(_,e):r.set(_,e),e),p=(_,r,e)=>(Ue(_,r,"access private method"),e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();const Xe="",Bt="",L={VK:"vk",VK_PLAY:"vk_play",OK:"ok",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",PLAYGAMA:"playgama",WORTAL:"wortal",MOCK:"mock"},B={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",PAYMENTS:"payments",REMOTE_CONFIG:"remote_config",CLIPBOARD:"clipboard"},Y={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},Pe={VISIBLE:"visible",HIDDEN:"hidden"},D={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},g={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},w={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},E={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},F={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},J={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},n={INITIALIZE:"initialize",AUTHORIZE_PLAYER:"authorize_player",SHARE:"share",INVITE_FRIENDS:"invite_friends",JOIN_COMMUNITY:"join_community",CREATE_POST:"create_post",ADD_TO_HOME_SCREEN:"add_to_home_screen",ADD_TO_FAVORITES:"add_to_favorites",RATE:"rate",SET_LEADERBOARD_SCORE:"set_leaderboard_score",GET_LEADERBOARD_SCORE:"get_leaderboard_score",GET_LEADERBOARD_ENTRIES:"get_leaderboard_entries",GET_PURCHASES:"get_purchases",GET_CATALOG:"get_catalog",PURCHASE:"purchase",CONSUME_PURCHASE:"consume_purchase",GET_REMOTE_CONFIG:"get_remote_config",GET_STORAGE_DATA:"get_storage_data",SHOW_LEADERBOARD_NATIVE_POPUP:"show_leaderboard_native_popup",CLIPBOARD_WRITE:"clipboard_write"},z={SDK_NOT_INITIALIZED:{message:"Before using the SDK you must initialize it"},STORAGE_NOT_SUPPORTED:{message:"Storage not supported"},STORAGE_NOT_AVAILABLE:{message:"Storage not available"},GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED:{message:"GameDistribution Game ID is undefined"},VK_PLAY_GAME_ID_IS_UNDEFINED:{message:"VK Play Game ID is undefined"},OK_GAME_PARAMS_NOT_FOUND:{message:"OK Game params are not found"},INVITE_FRIENDS_MESSAGE_LENGTH_ERROR:{message:"Message is too long"}};var Te,Re,Le;class Qe{constructor(){O(this,Te);O(this,Re);O(this,Le);R(this,Te,new Promise((r,e)=>{R(this,Re,r),R(this,Le,e)}))}get promise(){return h(this,Te)}resolve(r){h(this,Re).call(this,r)}reject(r){h(this,Le).call(this,r)}}Te=new WeakMap,Re=new WeakMap,Le=new WeakMap;class ${constructor(r){M(this,"_platformBridge");this._platformBridge=r}initialize(){return Promise.resolve()}}class Ct extends ${get id(){return this._platformBridge.platformId}get sdk(){return this._platformBridge.platformSdk}get language(){return this._platformBridge.platformLanguage}get payload(){return this._platformBridge.platformPayload}get tld(){return this._platformBridge.platformTld}sendMessage(r){return this._platformBridge.sendMessage(r)}}class Mt extends ${get isAuthorizationSupported(){return this._platformBridge.isPlayerAuthorizationSupported}get isAuthorized(){return this._platformBridge.isPlayerAuthorized}get id(){return this._platformBridge.playerId}get name(){return this._platformBridge.playerName}get photos(){return this._platformBridge.playerPhotos}authorize(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(r)}}function bt(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var et={exports:{}};/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */(function(_){function r(){if(!(this instanceof r))return new r}(function(e){_.exports=e;var t="listeners",i={on:l,once:a,off:d,emit:m};s(e.prototype),e.mixin=s;function s(S){for(var I in i)S[I]=i[I];return S}function l(S,I){return T(this,S).push(I),this}function a(S,I){var o=this;return c.originalListener=I,T(o,S).push(c),o;function c(){d.call(o,S,c),I.apply(this,arguments)}}function d(S,I){var o=this,c;if(!arguments.length)delete o[t];else if(I){if(c=T(o,S,!0),c){if(c=c.filter(f),!c.length)return d.call(o,S);o[t][S]=c}}else if(c=o[t],c&&(delete c[S],!Object.keys(c).length))return d.call(o);return o;function f(u){return u!==I&&u.originalListener!==I}}function m(S,I){var o=this,c=T(o,S,!0);if(!c)return!1;var f=arguments.length;if(f===1)c.forEach(A);else if(f===2)c.forEach(G);else{var u=Array.prototype.slice.call(arguments,1);c.forEach(C)}return!!c.length;function A(V){V.call(o)}function G(V){V.call(o,I)}function C(V){V.apply(o,u)}}function T(S,I,o){if(!(o&&!S[t])){var c=S[t]||(S[t]={});return c[I]||(c[I]=[])}}})(r)})(et);var Gt=et.exports;const He=bt(Gt);class tt extends ${get visibilityState(){return this._platformBridge.visibilityState}constructor(r){super(r),this._platformBridge.on(Y.VISIBILITY_STATE_CHANGED,e=>this.emit(Y.VISIBILITY_STATE_CHANGED,e))}}He.mixin(tt.prototype);class Ft extends ${get defaultType(){return this._platformBridge.defaultStorageType}isSupported(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(r)}isAvailable(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(r)}get(r,e){if(e){const i=e[this._platformBridge.platformId];if(i)return this.get(r,i)}let t=e;return t||(t=this.defaultType),this._platformBridge.isStorageAvailable(t)?this._platformBridge.getDataFromStorage(r,t):Promise.reject()}set(r,e,t){if(t){const s=t[this._platformBridge.platformId];if(s)return this.set(r,e,s)}let i=t;return i||(i=this.defaultType),this._platformBridge.isStorageAvailable(i)?this._platformBridge.setDataToStorage(r,e,i):Promise.reject()}delete(r,e){if(e){const i=e[this._platformBridge.platformId];if(i)return this.delete(r,i)}let t=e;return t||(t=this.defaultType),this._platformBridge.isStorageAvailable(t)?this._platformBridge.deleteDataFromStorage(r,t):Promise.reject()}}const Je={STATE_CHANGED:"state_changed",TIME_LEFT_CHANGED:"time_left_changed"},fe={CREATED:"created",STARTED:"started",STOPPED:"stopped",COMPLETED:"completed"};var Oe,he,de,we,ne,Be,je;class rt{constructor(r){O(this,ne);O(this,Oe,0);O(this,he,0);O(this,de,fe.CREATED);O(this,we,0);R(this,Oe,r)}get state(){return h(this,de)}start(){(h(this,de)===fe.CREATED||h(this,de)===fe.COMPLETED)&&(R(this,he,h(this,Oe)),p(this,ne,Be).call(this,fe.STARTED),R(this,we,setInterval(()=>{R(this,he,h(this,he)-1),this.emit(Je.TIME_LEFT_CHANGED,h(this,he)),h(this,he)<=0&&(p(this,ne,je).call(this),p(this,ne,Be).call(this,fe.COMPLETED))},1e3)))}stop(){p(this,ne,je).call(this),p(this,ne,Be).call(this,fe.STOPPED)}}Oe=new WeakMap,he=new WeakMap,de=new WeakMap,we=new WeakMap,ne=new WeakSet,Be=function(r){R(this,de,r),this.emit(Je.STATE_CHANGED,h(this,de))},je=function(){R(this,he,0),clearInterval(h(this,we))};He.mixin(rt.prototype);var se,ue,pe,Ve,Ye;class it extends ${constructor(e){super(e);O(this,pe);O(this,se);O(this,ue,60);this._platformBridge.on(Y.INTERSTITIAL_STATE_CHANGED,t=>{t===D.CLOSED&&h(this,ue)>0&&p(this,pe,Ve).call(this),this.emit(Y.INTERSTITIAL_STATE_CHANGED,t)}),this._platformBridge.on(Y.REWARDED_STATE_CHANGED,t=>this.emit(Y.REWARDED_STATE_CHANGED,t)),this._platformBridge.on(Y.BANNER_STATE_CHANGED,t=>this.emit(Y.BANNER_STATE_CHANGED,t))}get isBannerSupported(){return this._platformBridge.isBannerSupported}get bannerState(){return this._platformBridge.bannerState}get interstitialState(){return this._platformBridge.interstitialState}get rewardedState(){return this._platformBridge.rewardedState}get minimumDelayBetweenInterstitial(){return h(this,ue)}setMinimumDelayBetweenInterstitial(e){if(e){const s=e[this._platformBridge.platformId];if(typeof s<"u"){this.setMinimumDelayBetweenInterstitial(s);return}}const t=typeof e;let i=h(this,ue);switch(t){case"number":{i=e;break}case"string":{if(i=parseInt(e,10),Number.isNaN(i))return;break}default:return}R(this,ue,i),h(this,se)&&(h(this,se).stop(),p(this,pe,Ve).call(this))}showBanner(e){if(e){const t=e[this._platformBridge.platformId];if(t){this.showBanner(t);return}}if(!(this.bannerState===w.LOADING||this.bannerState===w.SHOWN)){if(this._platformBridge._setBannerState(w.LOADING),!this.isBannerSupported){this._platformBridge._setBannerState(w.FAILED);return}this._platformBridge.showBanner(e)}}hideBanner(){this.bannerState===w.LOADING||this.bannerState===w.HIDDEN||this.isBannerSupported&&this._platformBridge.hideBanner()}showInterstitial(e){if(p(this,pe,Ye).call(this))return;if(e){const i=e[this._platformBridge.platformId];if(i){this.showInterstitial(i);return}}let t=!1;if(e&&typeof e.ignoreDelay=="boolean"&&(t=e.ignoreDelay),this._platformBridge._setInterstitialState(D.LOADING),h(this,se)&&h(this,se).state!==fe.COMPLETED&&!t){this._platformBridge._setInterstitialState(D.FAILED);return}this._platformBridge.showInterstitial(e)}showRewarded(e){if(!p(this,pe,Ye).call(this)){if(e){const t=e[this._platformBridge.platformId];if(t){this.showRewarded(t);return}}this._platformBridge._setRewardedState(g.LOADING),this._platformBridge.showRewarded(e)}}}se=new WeakMap,ue=new WeakMap,pe=new WeakSet,Ve=function(){R(this,se,new rt(h(this,ue))),h(this,se).start()},Ye=function(){return!!(this.interstitialState===D.LOADING||this.interstitialState===D.OPENED||[g.LOADING,g.OPENED,g.REWARDED].includes(this.rewardedState))};He.mixin(it.prototype);class Ht extends ${get isInviteFriendsSupported(){return this._platformBridge.isInviteFriendsSupported}get isJoinCommunitySupported(){return this._platformBridge.isJoinCommunitySupported}get isShareSupported(){return this._platformBridge.isShareSupported}get isCreatePostSupported(){return this._platformBridge.isCreatePostSupported}get isAddToHomeScreenSupported(){return this._platformBridge.isAddToHomeScreenSupported}get isAddToFavoritesSupported(){return this._platformBridge.isAddToFavoritesSupported}get isRateSupported(){return this._platformBridge.isRateSupported}get isExternalLinksAllowed(){return this._platformBridge.isExternalLinksAllowed}inviteFriends(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.inviteFriends(e)}return this._platformBridge.inviteFriends(r)}joinCommunity(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(r)}share(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(r)}createPost(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(r)}addToHomeScreen(){return this._platformBridge.addToHomeScreen()}addToFavorites(){return this._platformBridge.addToFavorites()}rate(){return this._platformBridge.rate()}}class kt extends ${get type(){return this._platformBridge.deviceType}}class Ut extends ${get isSupported(){return this._platformBridge.isLeaderboardSupported}get isNativePopupSupported(){return this._platformBridge.isLeaderboardNativePopupSupported}get isMultipleBoardsSupported(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}get isSetScoreSupported(){return this._platformBridge.isLeaderboardSetScoreSupported}get isGetScoreSupported(){return this._platformBridge.isLeaderboardGetScoreSupported}get isGetEntriesSupported(){return this._platformBridge.isLeaderboardGetEntriesSupported}setScore(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(r)}getScore(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(r)}getEntries(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(r)}showNativePopup(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(r)}}class zt extends ${get isSupported(){return this._platformBridge.isPaymentsSupported}purchase(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.purchase(e)}return this._platformBridge.purchase(r)}getPurchases(){return this._platformBridge.getPaymentsPurchases()}getCatalog(){return this._platformBridge.getPaymentsCatalog()}consumePurchase(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.consumePurchase(e)}return this._platformBridge.consumePurchase(r)}}class jt extends ${get isSupported(){return this._platformBridge.isRemoteConfigSupported}get(r){if(r){const e=r[this._platformBridge.platformId];if(e)return this.get(e)}return this._platformBridge.getRemoteConfig(r)}}class Vt extends ${get isSupported(){return this._platformBridge.isClipboardSupported}read(){return this._platformBridge.clipboardRead()}write(r){return this._platformBridge.clipboardWrite(r)}}var K;class q{constructor(r){M(this,"_isInitialized",!1);M(this,"_platformSdk",null);M(this,"_isPlayerAuthorized",!1);M(this,"_playerId",null);M(this,"_playerName",null);M(this,"_playerPhotos",[]);M(this,"_visibilityState",null);M(this,"_localStorage",null);M(this,"_defaultStorageType",E.LOCAL_STORAGE);M(this,"_platformStorageCachedData",null);M(this,"_isBannerSupported",!1);M(this,"_interstitialState",null);M(this,"_rewardedState",null);M(this,"_bannerState",null);O(this,K,{});try{this._localStorage=window.localStorage}catch{}this._visibilityState=document.visibilityState==="visible"?Pe.VISIBLE:Pe.HIDDEN,document.addEventListener("visibilitychange",()=>{this._visibilityState=document.visibilityState==="visible"?Pe.VISIBLE:Pe.HIDDEN,this.emit(Y.VISIBILITY_STATE_CHANGED,this._visibilityState)}),r&&(this._options={...r})}get platformId(){return L.MOCK}get platformSdk(){return this._platformSdk}get platformLanguage(){const r=navigator.language;return typeof r=="string"?r.substring(0,2).toLowerCase():"en"}get platformPayload(){return new URL(window.location.href).searchParams.get("payload")}get platformTld(){return null}get visibilityState(){return this._visibilityState}get isPlayerAuthorizationSupported(){return!1}get isPlayerAuthorized(){return this._isPlayerAuthorized}get playerId(){return this._playerId}get playerName(){return this._playerName}get playerPhotos(){return this._playerPhotos}get defaultStorageType(){return this._defaultStorageType}get isBannerSupported(){return this._isBannerSupported}get bannerState(){return this._bannerState}get interstitialState(){return this._interstitialState}get rewardedState(){return this._rewardedState}get isInviteFriendsSupported(){return!1}get isJoinCommunitySupported(){return!1}get isShareSupported(){return!1}get isCreatePostSupported(){return!1}get isAddToHomeScreenSupported(){return!1}get isAddToFavoritesSupported(){return!1}get isRateSupported(){return!1}get isExternalLinksAllowed(){return!1}get deviceType(){if(navigator&&navigator.userAgent){const r=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(r))return F.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(r))return F.TABLET}return F.DESKTOP}get isLeaderboardSupported(){return!1}get isLeaderboardNativePopupSupported(){return!1}get isLeaderboardMultipleBoardsSupported(){return!1}get isLeaderboardSetScoreSupported(){return!1}get isLeaderboardGetScoreSupported(){return!1}get isLeaderboardGetEntriesSupported(){return!1}get isPaymentsSupported(){return!1}get isRemoteConfigSupported(){return!1}get isClipboardSupported(){return!0}initialize(){return Promise.resolve()}sendMessage(){return Promise.resolve()}authorizePlayer(){return Promise.reject()}isStorageSupported(r){switch(r){case E.LOCAL_STORAGE:return this._localStorage!==null;case E.PLATFORM_INTERNAL:return!1;default:return!1}}isStorageAvailable(r){switch(r){case E.LOCAL_STORAGE:return this._localStorage!==null;case E.PLATFORM_INTERNAL:return!1;default:return!1}}getDataFromStorage(r,e){switch(e){case E.LOCAL_STORAGE:{if(this._localStorage){if(Array.isArray(r)){const i=[];for(let s=0;s<r.length;s++)i.push(this._getDataFromLocalStorage(r[s]));return Promise.resolve(i)}const t=this._getDataFromLocalStorage(r);return Promise.resolve(t)}return Promise.reject(z.STORAGE_NOT_SUPPORTED)}default:return Promise.reject(z.STORAGE_NOT_SUPPORTED)}}setDataToStorage(r,e,t){switch(t){case E.LOCAL_STORAGE:{if(this._localStorage){if(Array.isArray(r)){for(let i=0;i<r.length;i++)this._setDataToLocalStorage(r[i],e[i]);return Promise.resolve()}return this._setDataToLocalStorage(r,e),Promise.resolve()}return Promise.reject(z.STORAGE_NOT_SUPPORTED)}default:return Promise.reject(z.STORAGE_NOT_SUPPORTED)}}deleteDataFromStorage(r,e){switch(e){case E.LOCAL_STORAGE:{if(this._localStorage){if(Array.isArray(r)){for(let t=0;t<r.length;t++)this._deleteDataFromLocalStorage(r[t]);return Promise.resolve()}return this._deleteDataFromLocalStorage(r),Promise.resolve()}return Promise.reject(z.STORAGE_NOT_SUPPORTED)}default:return Promise.reject(z.STORAGE_NOT_SUPPORTED)}}showBanner(){this._setBannerState(w.FAILED)}hideBanner(){this._setBannerState(w.HIDDEN)}showInterstitial(){this._setInterstitialState(D.FAILED)}showRewarded(){this._setRewardedState(g.FAILED)}inviteFriends(){return Promise.reject()}joinCommunity(){return Promise.reject()}share(){return Promise.reject()}createPost(){return Promise.reject()}addToHomeScreen(){return Promise.reject()}addToFavorites(){return Promise.reject()}rate(){return Promise.reject()}setLeaderboardScore(){return Promise.reject()}getLeaderboardScore(){return Promise.reject()}getLeaderboardEntries(){return Promise.reject()}showLeaderboardNativePopup(){return Promise.reject()}purchase(){return Promise.reject()}getPaymentsPurchases(){return Promise.reject()}getPaymentsCatalog(){return Promise.reject()}consumePurchase(){return Promise.reject()}getRemoteConfig(){return Promise.reject()}clipboardRead(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}clipboardWrite(r){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(r):Promise.reject()}_getDataFromLocalStorage(r){let e=this._localStorage.getItem(r);if(typeof e=="string")try{e=JSON.parse(e)}catch{}return e}_setDataToLocalStorage(r,e){this._localStorage.setItem(r,typeof e=="object"?JSON.stringify(e):e)}_deleteDataFromLocalStorage(r){this._localStorage.removeItem(r)}_setInterstitialState(r){this._interstitialState===r&&r!==D.FAILED||(this._interstitialState=r,this.emit(Y.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}_setRewardedState(r){this._rewardedState===r&&r!==g.FAILED||(this._rewardedState=r,this.emit(Y.REWARDED_STATE_CHANGED,this._rewardedState))}_setBannerState(r){this._bannerState===r&&r!==w.FAILED||(this._bannerState=r,this.emit(Y.BANNER_STATE_CHANGED,this._bannerState))}_createPromiseDecorator(r){const e=new Qe;return h(this,K)[r]=e,e}_getPromiseDecorator(r){return h(this,K)[r]}_resolvePromiseDecorator(r,e){h(this,K)[r]&&(h(this,K)[r].resolve(e),delete h(this,K)[r])}_rejectPromiseDecorator(r,e){h(this,K)[r]&&(h(this,K)[r].reject(e),delete h(this,K)[r])}}K=new WeakMap;He.mixin(q.prototype);const le=function(r){return new Promise(e=>{const t=document.createElement("script");t.src=r,t.addEventListener("load",e),document.head.appendChild(t)})},Ee=function(...r){return r.length<=0?Promise.resolve():new Promise(e=>{const t=setInterval(()=>{let i=window;for(let s=0;s<r.length;s++){const l=i[r[s]];if(!l)return;i=l}e(),clearInterval(t)},100)})},Yt="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js";var Ie,Z,ie;class Wt extends q{constructor(){super(...arguments);O(this,Z);O(this,Ie)}get platformId(){return L.VK}get platformLanguage(){const e=new URL(window.location.href);if(e.searchParams.has("language")){const t=e.searchParams.get("language");let i=0;try{i=parseInt(t,10)}catch{i=0}switch(i){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en";default:return"ru"}}return super.platformLanguage}get platformPayload(){const e=new URL(window.location.href);return e.searchParams.has("hash")?e.searchParams.get("hash"):super.platformPayload}get deviceType(){switch(h(this,Ie)){case"html5_ios":case"html5_android":case"html5_mobile":return F.MOBILE;case"web":return F.DESKTOP;default:return super.deviceType}}get isPlayerAuthorizationSupported(){return!0}get isPlayerAuthorized(){return!0}get isInviteFriendsSupported(){return!0}get isJoinCommunitySupported(){return!0}get isShareSupported(){return!0}get isCreatePostSupported(){return!0}get isAddToHomeScreenSupported(){return h(this,Ie)==="html5_android"}get isAddToFavoritesSupported(){return!0}get isExternalLinksAllowed(){return!0}get isLeaderboardSupported(){return!0}get isLeaderboardNativePopupSupported(){return this.deviceType===F.MOBILE}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);if(!e){e=this._createPromiseDecorator(n.INITIALIZE);const t=new URL(window.location.href);t.searchParams.has("platform")&&R(this,Ie,t.searchParams.get("platform")),le(Yt).then(()=>{Ee("vkBridge").then(()=>{this._platformSdk=window.vkBridge,this._platformSdk.send("VKWebAppInit").then(()=>{this._isBannerSupported=!0,this._platformSdk.send("VKWebAppGetUserInfo").then(i=>{i&&(this._playerId=i.id,this._playerName=`${i.first_name} ${i.last_name}`,i.photo_100&&this._playerPhotos.push(i.photo_100),i.photo_200&&this._playerPhotos.push(i.photo_200),i.photo_max_orig&&this._playerPhotos.push(i.photo_max_orig))}).finally(()=>{this._isInitialized=!0,this._defaultStorageType=E.PLATFORM_INTERNAL,this._resolvePromiseDecorator(n.INITIALIZE)})})})})}return e.promise}authorizePlayer(){return Promise.resolve()}isStorageSupported(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageSupported(e)}isStorageAvailable(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageAvailable(e)}getDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise((i,s)=>{const l=Array.isArray(e)?e:[e];this._platformSdk.send("VKWebAppStorageGet",{keys:l}).then(a=>{if(Array.isArray(e)){const m=[];l.forEach(T=>{const S=a.keys.findIndex(o=>o.key===T);if(S<0){m.push(null);return}if(a.keys[S].value===""){m.push(null);return}let I;try{I=JSON.parse(a.keys[S].value)}catch{I=a.keys[S].value}m.push(I)}),i(m);return}if(a.keys[0].value===""){i(null);return}let d;try{d=JSON.parse(a.keys[0].value)}catch{d=a.keys[0].value}i(d)}).catch(a=>{a&&a.error_data&&a.error_data.error_reason?s(a.error_data.error_reason):s()})}):super.getDataFromStorage(e,t)}setDataToStorage(e,t,i){if(i===E.PLATFORM_INTERNAL){if(Array.isArray(e)){const l=[];for(let a=0;a<e.length;a++){const d={key:e[a],value:t[a]};typeof t[a]!="string"&&(d.value=JSON.stringify(t[a])),l.push(this._platformSdk.send("VKWebAppStorageSet",d))}return Promise.all(l)}const s={key:e,value:t};return typeof t!="string"&&(s.value=JSON.stringify(t)),new Promise((l,a)=>{this._platformSdk.send("VKWebAppStorageSet",s).then(()=>{l()}).catch(d=>{d&&d.error_data&&d.error_data.error_reason?a(d.error_data.error_reason):a()})})}return super.setDataToStorage(e,t,i)}deleteDataFromStorage(e,t){if(t===E.PLATFORM_INTERNAL){if(Array.isArray(e)){const i=[];for(let s=0;s<e.length;s++)i.push(this.setDataToStorage(e[s],"",t));return Promise.all(i)}return this.setDataToStorage(e,"",t)}return super.deleteDataFromStorage(e,t)}showBanner(e){let t="bottom",i="resize",s=!1;e&&(typeof e.position=="string"&&(t=e.position),typeof e.layoutType=="string"&&(i=e.layoutType),typeof e.canClose=="boolean"&&(s=e.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:t,layout_type:i,can_close:s}).then(l=>{l.result?this._setBannerState(w.SHOWN):this._setBannerState(w.FAILED)}).catch(()=>{this._setBannerState(w.FAILED)})}hideBanner(){this._platformSdk.send("VKWebAppHideBannerAd").then(e=>{e.result&&this._setBannerState(w.HIDDEN)})}showInterstitial(){this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then(e=>{e.result&&this._setInterstitialState(D.OPENED)}).finally(()=>{this._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then(e=>{this._setInterstitialState(e.result?D.CLOSED:D.FAILED)}).catch(()=>{this._setInterstitialState(D.FAILED)})})}showRewarded(){this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then(e=>{e.result&&this._setRewardedState(g.OPENED)}).finally(()=>{this._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then(e=>{e.result?(this._setRewardedState(g.REWARDED),this._setRewardedState(g.CLOSED)):this._setRewardedState(g.FAILED)}).catch(()=>{this._setRewardedState(g.FAILED)})})}inviteFriends(){return p(this,Z,ie).call(this,n.INVITE_FRIENDS,"VKWebAppShowInviteBox",{},"success")}joinCommunity(e){if(!e||!e.groupId)return Promise.reject();let{groupId:t}=e;return typeof t=="string"&&(t=parseInt(t,10),Number.isNaN(t))?Promise.reject():p(this,Z,ie).call(this,n.JOIN_COMMUNITY,"VKWebAppJoinGroup",{group_id:t}).then(()=>{window.open(`https://vk.com/public${t}`)})}share(e){const t={};return e&&e.link&&(t.link=e.link),p(this,Z,ie).call(this,n.SHARE,"VKWebAppShare",t,"type")}createPost(e){const t={};return e&&e.message&&(t.message=e.message),e&&e.attachments&&(t.attachments=e.attachments),p(this,Z,ie).call(this,n.CREATE_POST,"VKWebAppShowWallPostBox",t,"post_id")}addToHomeScreen(){return this.isAddToHomeScreenSupported?p(this,Z,ie).call(this,n.ADD_TO_HOME_SCREEN,"VKWebAppAddToHomeScreen"):Promise.reject()}addToFavorites(){return p(this,Z,ie).call(this,n.ADD_TO_FAVORITES,"VKWebAppAddToFavorites")}showLeaderboardNativePopup(e){if(!this.isLeaderboardNativePopupSupported||!e||!e.userResult)return Promise.reject();const t={user_result:e.userResult};return typeof e.global=="boolean"&&(t.global=e.global?1:0),p(this,Z,ie).call(this,n.SHOW_LEADERBOARD_NATIVE_POPUP,"VKWebAppShowLeaderBoardBox",t)}clipboardWrite(e){return p(this,Z,ie).call(this,n.CLIPBOARD_WRITE,"VKWebAppCopyText",{text:e})}}Ie=new WeakMap,Z=new WeakSet,ie=function(e,t,i={},s="result"){let l=this._getPromiseDecorator(e);return l||(l=this._createPromiseDecorator(e),this._platformSdk.send(t,i).then(a=>{if(a[s]){this._resolvePromiseDecorator(e);return}this._rejectPromiseDecorator(e)}).catch(a=>{this._rejectPromiseDecorator(e,a)})),l.promise};const xt="https://yandex.ru/games/sdk/v2";var Ne,X,Q,x,De,Ce;class Kt extends q{constructor(){super(...arguments);O(this,De);O(this,Ne,!1);O(this,X,null);O(this,Q,null);O(this,x,null)}get platformId(){return L.YANDEX}get platformLanguage(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():super.platformLanguage}get platformTld(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():super.platformTld}get deviceType(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case F.DESKTOP:return F.DESKTOP;case F.MOBILE:return F.MOBILE;case F.TABLET:return F.TABLET;case F.TV:return F.TV;default:return super.deviceType}}get isPlayerAuthorizationSupported(){return!0}get isAddToHomeScreenSupported(){return h(this,Ne)}get isRateSupported(){return!0}get isLeaderboardSupported(){return!0}get isLeaderboardMultipleBoardsSupported(){return!0}get isLeaderboardSetScoreSupported(){return!0}get isLeaderboardGetScoreSupported(){return!0}get isLeaderboardGetEntriesSupported(){return!0}get isPaymentsSupported(){return!0}get isRemoteConfigSupported(){return!0}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);return e||(e=this._createPromiseDecorator(n.INITIALIZE),le(xt).then(()=>{Ee("YaGames","init").then(()=>{window.YaGames.init().then(t=>{var I;this._platformSdk=t;const i=p(this,De,Ce).call(this),s=(I=this._platformSdk.features.PluginEngineDataReporterAPI)==null?void 0:I.report({engineName:"",engineVersion:"",pluginName:Bt,pluginVersion:Xe}),l=this._platformSdk.shortcut.canShowPrompt().then(o=>{R(this,Ne,o.canShow)}),a=new Promise(o=>{setTimeout(o,1e3)}),d=Promise.race([l,a]),m=this._platformSdk.getLeaderboards().then(o=>{R(this,Q,o)}),T=this._platformSdk.getPayments().then(o=>{R(this,x,o)});this._isBannerSupported=!0;const S=this._platformSdk.adv.getBannerAdvStatus().then(o=>{o.stickyAdvIsShowing&&this._setBannerState(w.SHOWN)});Promise.all([i,s,d,m,T,S]).finally(()=>{this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE)})})})})),e.promise}sendMessage(e){var t;switch(e){case J.GAME_READY:return(t=this._platformSdk.features.LoadingAPI)==null||t.ready(),Promise.resolve();default:return super.sendMessage(e)}}authorizePlayer(e){let t=this._getPromiseDecorator(n.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(n.AUTHORIZE_PLAYER),this._isPlayerAuthorized?p(this,De,Ce).call(this,e).then(()=>{this._resolvePromiseDecorator(n.AUTHORIZE_PLAYER)}):this._platformSdk.auth.openAuthDialog().then(()=>{p(this,De,Ce).call(this,e).then(()=>{this._resolvePromiseDecorator(n.AUTHORIZE_PLAYER)})}).catch(i=>{this._rejectPromiseDecorator(n.AUTHORIZE_PLAYER,i)})),t.promise}isStorageSupported(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageSupported(e)}isStorageAvailable(e){return e===E.PLATFORM_INTERNAL?this._isPlayerAuthorized:super.isStorageAvailable(e)}getDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((i,s)=>{if(this._platformStorageCachedData){if(Array.isArray(e)){const l=[];for(let a=0;a<e.length;a++){const d=typeof this._platformStorageCachedData[e[a]]>"u"?null:this._platformStorageCachedData[e[a]];l.push(d)}i(l);return}i(typeof this._platformStorageCachedData[e]>"u"?null:this._platformStorageCachedData[e]);return}h(this,X)?h(this,X).getData().then(l=>{if(this._platformStorageCachedData=l,Array.isArray(e)){const a=[];for(let d=0;d<e.length;d++){const m=typeof this._platformStorageCachedData[e[d]]>"u"?null:this._platformStorageCachedData[e[d]];a.push(m)}i(a);return}i(typeof this._platformStorageCachedData[e]>"u"?null:this._platformStorageCachedData[e])}).catch(l=>{s(l)}):s()}):Promise.reject():super.getDataFromStorage(e,t)}setDataToStorage(e,t,i){return i===E.PLATFORM_INTERNAL?new Promise((s,l)=>{if(h(this,X)){const a=this._platformStorageCachedData!==null?{...this._platformStorageCachedData}:{};if(Array.isArray(e))for(let d=0;d<e.length;d++)a[e[d]]=t[d];else a[e]=t;h(this,X).setData(a).then(()=>{this._platformStorageCachedData=a,s()}).catch(d=>{l(d)})}else l()}):super.setDataToStorage(e,t,i)}deleteDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise((i,s)=>{if(h(this,X)){const l=this._platformStorageCachedData!==null?{...this._platformStorageCachedData}:{};if(Array.isArray(e))for(let a=0;a<e.length;a++)delete l[e[a]];else delete l[e];h(this,X).setData(l).then(()=>{this._platformStorageCachedData=l,i()}).catch(a=>{s(a)})}else s()}):super.deleteDataFromStorage(e,t)}showBanner(){this._platformSdk.adv.showBannerAdv().then(e=>{e.stickyAdvIsShowing?this._setBannerState(w.SHOWN):this._setBannerState(w.FAILED)}).catch(()=>{this._setBannerState(w.FAILED)})}hideBanner(){this._platformSdk.adv.hideBannerAdv().then(e=>{e.stickyAdvIsShowing||this._setBannerState(w.HIDDEN)})}showInterstitial(){this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:()=>{this._setInterstitialState(D.OPENED)},onClose:e=>{e?this._setInterstitialState(D.CLOSED):this._setInterstitialState(D.FAILED)},onError:e=>{console.error(e)}}})}showRewarded(){this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:()=>{this._setRewardedState(g.OPENED)},onRewarded:()=>{this._setRewardedState(g.REWARDED)},onClose:()=>{this._setRewardedState(g.CLOSED)},onError:()=>{this._setRewardedState(g.FAILED)}}})}addToHomeScreen(){if(!this.isAddToHomeScreenSupported)return Promise.reject();let e=this._getPromiseDecorator(n.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(n.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then(t=>{if(t.outcome==="accepted"){this._resolvePromiseDecorator(n.ADD_TO_HOME_SCREEN);return}this._rejectPromiseDecorator(n.ADD_TO_HOME_SCREEN)}).catch(t=>{this._rejectPromiseDecorator(n.ADD_TO_HOME_SCREEN,t)})),e.promise}rate(){let e=this._getPromiseDecorator(n.RATE);return e||(e=this._createPromiseDecorator(n.RATE),this._platformSdk.feedback.canReview().then(t=>{if(t.value){this._platformSdk.feedback.requestReview().then(({feedbackSent:i})=>{if(i){this._resolvePromiseDecorator(n.RATE);return}this._rejectPromiseDecorator(n.RATE)}).catch(i=>{this._rejectPromiseDecorator(n.RATE,i)});return}this._rejectPromiseDecorator(n.RATE,t.reason)}).catch(t=>{this._rejectPromiseDecorator(n.RATE,t)})),e.promise}setLeaderboardScore(e){if(!this._isPlayerAuthorized||!h(this,Q)||!e||!e.score||!e.leaderboardName)return Promise.reject();let t=this._getPromiseDecorator(n.SET_LEADERBOARD_SCORE);return t||(t=this._createPromiseDecorator(n.SET_LEADERBOARD_SCORE),typeof e.score=="string"&&(e.score=parseInt(e.score,10)),h(this,Q).setLeaderboardScore(e.leaderboardName,e.score).then(()=>{this._resolvePromiseDecorator(n.SET_LEADERBOARD_SCORE)}).catch(i=>{this._rejectPromiseDecorator(n.SET_LEADERBOARD_SCORE,i)})),t.promise}getLeaderboardScore(e){if(!this._isPlayerAuthorized||!h(this,Q)||!e||!e.leaderboardName)return Promise.reject();let t=this._getPromiseDecorator(n.GET_LEADERBOARD_SCORE);return t||(t=this._createPromiseDecorator(n.GET_LEADERBOARD_SCORE),h(this,Q).getLeaderboardPlayerEntry(e.leaderboardName).then(i=>{this._resolvePromiseDecorator(n.GET_LEADERBOARD_SCORE,i.score)}).catch(i=>{this._rejectPromiseDecorator(n.GET_LEADERBOARD_SCORE,i)})),t.promise}getLeaderboardEntries(e){if(!h(this,Q)||!e||!e.leaderboardName)return Promise.reject();let t=this._getPromiseDecorator(n.GET_LEADERBOARD_ENTRIES);if(!t){t=this._createPromiseDecorator(n.GET_LEADERBOARD_ENTRIES);const i={includeUser:!1,quantityAround:5,quantityTop:5};typeof e.includeUser=="boolean"&&(i.includeUser=e.includeUser),typeof e.quantityAround=="string"&&(e.quantityAround=parseInt(e.quantityAround,10)),typeof e.quantityAround=="number"&&(i.quantityAround=e.quantityAround),typeof e.quantityTop=="string"&&(e.quantityTop=parseInt(e.quantityTop,10)),typeof e.quantityTop=="number"&&(i.quantityTop=e.quantityTop),h(this,Q).getLeaderboardEntries(e.leaderboardName,i).then(s=>{let l=null;s&&s.entries.length>0&&(l=s.entries.map(a=>{const d=[],m=a.player.getAvatarSrc("small"),T=a.player.getAvatarSrc("medium"),S=a.player.getAvatarSrc("large");return m&&d.push(m),T&&d.push(T),S&&d.push(S),{id:a.player.uniqueID,score:a.score,rank:a.rank,name:a.player.publicName,photos:d}})),this._resolvePromiseDecorator(n.GET_LEADERBOARD_ENTRIES,l)}).catch(s=>{this._rejectPromiseDecorator(n.GET_LEADERBOARD_ENTRIES,s)})}return t.promise}purchase(e){if(!h(this,x)||!e.id)return Promise.reject();let t=this._getPromiseDecorator(n.PURCHASE);return t||(t=this._createPromiseDecorator(n.PURCHASE),h(this,x).purchase(e).then(i=>{this._resolvePromiseDecorator(n.PURCHASE,i)}).catch(i=>{this._rejectPromiseDecorator(n.PURCHASE,i)})),t.promise}getPaymentsPurchases(){if(!h(this,x))return Promise.reject();let e=this._getPromiseDecorator(n.GET_PURCHASES);return e||(e=this._createPromiseDecorator(n.GET_PURCHASES),h(this,x).getPurchases().then(t=>{this._resolvePromiseDecorator(n.GET_PURCHASES,t)}).catch(t=>{this._rejectPromiseDecorator(n.GET_PURCHASES,t)})),e.promise}getPaymentsCatalog(){if(!h(this,x))return Promise.reject();let e=this._getPromiseDecorator(n.GET_CATALOG);return e||(e=this._createPromiseDecorator(n.GET_CATALOG),h(this,x).getCatalog().then(t=>{this._resolvePromiseDecorator(n.GET_CATALOG,t)}).catch(t=>{this._rejectPromiseDecorator(n.GET_CATALOG,t)})),e.promise}consumePurchase(e){if(!h(this,x)||!e.purchaseToken)return Promise.reject();let t=this._getPromiseDecorator(n.CONSUME_PURCHASE);return t||(t=this._createPromiseDecorator(n.CONSUME_PURCHASE),h(this,x).consumePurchase(e.purchaseToken).then(i=>{this._resolvePromiseDecorator(n.CONSUME_PURCHASE,i)}).catch(i=>{this._rejectPromiseDecorator(n.CONSUME_PURCHASE,i)})),t.promise}getRemoteConfig(e){if(!this._platformSdk||e&&!(e!=null&&e.defaultFlags)&&!(e!=null&&e.clientFeatures))return Promise.reject();let t=this._getPromiseDecorator(n.GET_REMOTE_CONFIG);return t||(t=this._createPromiseDecorator(n.GET_REMOTE_CONFIG),(e?this._platformSdk.getFlags(e):this._platformSdk.getFlags()).then(s=>{this._resolvePromiseDecorator(n.GET_REMOTE_CONFIG,s)}).catch(s=>{this._rejectPromiseDecorator(n.GET_REMOTE_CONFIG,s)})),t.promise}clipboardWrite(e){let t=this._getPromiseDecorator(n.CLIPBOARD_WRITE);return t||(t=this._createPromiseDecorator(n.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(e).then(()=>{this._resolvePromiseDecorator(n.CLIPBOARD_WRITE,!0)}).catch(i=>{this._rejectPromiseDecorator(n.CLIPBOARD_WRITE,i)})),t.promise}}Ne=new WeakMap,X=new WeakMap,Q=new WeakMap,x=new WeakMap,De=new WeakSet,Ce=function(e){return new Promise(t=>{const i={scopes:!1};e&&typeof e.scopes=="boolean"&&(i.scopes=e.scopes),this._platformSdk.getPlayer(i).then(s=>{this._playerId=s.getUniqueID(),this._isPlayerAuthorized=s.getMode()!=="lite",this._defaultStorageType=this._isPlayerAuthorized?E.PLATFORM_INTERNAL:E.LOCAL_STORAGE;const l=s.getName();l!==""&&(this._playerName=l),this._playerPhotos=[];const a=s.getPhoto("small"),d=s.getPhoto("medium"),m=s.getPhoto("large");a&&this._playerPhotos.push(a),d&&this._playerPhotos.push(d),m&&this._playerPhotos.push(m),R(this,X,s)}).finally(()=>{t()})})};var ke={},ee=ee||function(_,r){var e={},t=e.lib={},i=function(){},s=t.Base={extend:function(o){i.prototype=this;var c=new i;return o&&c.mixIn(o),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var o=this.extend();return o.init.apply(o,arguments),o},init:function(){},mixIn:function(o){for(var c in o)o.hasOwnProperty(c)&&(this[c]=o[c]);o.hasOwnProperty("toString")&&(this.toString=o.toString)},clone:function(){return this.init.prototype.extend(this)}},l=t.WordArray=s.extend({init:function(o,c){o=this.words=o||[],this.sigBytes=c!=r?c:4*o.length},toString:function(o){return(o||d).stringify(this)},concat:function(o){var c=this.words,f=o.words,u=this.sigBytes;if(o=o.sigBytes,this.clamp(),u%4)for(var A=0;A<o;A++)c[u+A>>>2]|=(f[A>>>2]>>>24-8*(A%4)&255)<<24-8*((u+A)%4);else if(65535<f.length)for(A=0;A<o;A+=4)c[u+A>>>2]=f[A>>>2];else c.push.apply(c,f);return this.sigBytes+=o,this},clamp:function(){var o=this.words,c=this.sigBytes;o[c>>>2]&=4294967295<<32-8*(c%4),o.length=_.ceil(c/4)},clone:function(){var o=s.clone.call(this);return o.words=this.words.slice(0),o},random:function(o){for(var c=[],f=0;f<o;f+=4)c.push(4294967296*_.random()|0);return new l.init(c,o)}}),a=e.enc={},d=a.Hex={stringify:function(o){var c=o.words;o=o.sigBytes;for(var f=[],u=0;u<o;u++){var A=c[u>>>2]>>>24-8*(u%4)&255;f.push((A>>>4).toString(16)),f.push((A&15).toString(16))}return f.join("")},parse:function(o){for(var c=o.length,f=[],u=0;u<c;u+=2)f[u>>>3]|=parseInt(o.substr(u,2),16)<<24-4*(u%8);return new l.init(f,c/2)}},m=a.Latin1={stringify:function(o){var c=o.words;o=o.sigBytes;for(var f=[],u=0;u<o;u++)f.push(String.fromCharCode(c[u>>>2]>>>24-8*(u%4)&255));return f.join("")},parse:function(o){for(var c=o.length,f=[],u=0;u<c;u++)f[u>>>2]|=(o.charCodeAt(u)&255)<<24-8*(u%4);return new l.init(f,c)}},T=a.Utf8={stringify:function(o){try{return decodeURIComponent(escape(m.stringify(o)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(o){return m.parse(unescape(encodeURIComponent(o)))}},S=t.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(o){typeof o=="string"&&(o=T.parse(o)),this._data.concat(o),this._nDataBytes+=o.sigBytes},_process:function(o){var c=this._data,f=c.words,u=c.sigBytes,A=this.blockSize,G=u/(4*A),G=o?_.ceil(G):_.max((G|0)-this._minBufferSize,0);if(o=G*A,u=_.min(4*o,u),o){for(var C=0;C<o;C+=A)this._doProcessBlock(f,C);C=f.splice(0,o),c.sigBytes-=u}return new l.init(C,u)},clone:function(){var o=s.clone.call(this);return o._data=this._data.clone(),o},_minBufferSize:0});t.Hasher=S.extend({cfg:s.extend(),init:function(o){this.cfg=this.cfg.extend(o),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(o){return this._append(o),this._process(),this},finalize:function(o){return o&&this._append(o),this._doFinalize()},blockSize:16,_createHelper:function(o){return function(c,f){return new o.init(f).finalize(c)}},_createHmacHelper:function(o){return function(c,f){return new I.HMAC.init(o,f).finalize(c)}}});var I=e.algo={};return e}(Math);(function(_){for(var r=ee,o=r.lib,e=o.WordArray,t=o.Hasher,o=r.algo,i=[],s=[],l=function(f){return 4294967296*(f-(f|0))|0},a=2,d=0;64>d;){var m;e:{m=a;for(var T=_.sqrt(m),S=2;S<=T;S++)if(!(m%S)){m=!1;break e}m=!0}m&&(8>d&&(i[d]=l(_.pow(a,.5))),s[d]=l(_.pow(a,1/3)),d++),a++}var I=[],o=o.SHA256=t.extend({_doReset:function(){this._hash=new e.init(i.slice(0))},_doProcessBlock:function(c,f){for(var u=this._hash.words,A=u[0],G=u[1],C=u[2],V=u[3],v=u[4],te=u[5],re=u[6],me=u[7],N=0;64>N;N++){if(16>N)I[N]=c[f+N]|0;else{var H=I[N-15],k=I[N-2];I[N]=((H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3)+I[N-7]+((k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10)+I[N-16]}H=me+((v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25))+(v&te^~v&re)+s[N]+I[N],k=((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+(A&G^A&C^G&C),me=re,re=te,te=v,v=V+H|0,V=C,C=G,G=A,A=H+k|0}u[0]=u[0]+A|0,u[1]=u[1]+G|0,u[2]=u[2]+C|0,u[3]=u[3]+V|0,u[4]=u[4]+v|0,u[5]=u[5]+te|0,u[6]=u[6]+re|0,u[7]=u[7]+me|0},_doFinalize:function(){var c=this._data,f=c.words,u=8*this._nDataBytes,A=8*c.sigBytes;return f[A>>>5]|=128<<24-A%32,f[(A+64>>>9<<4)+14]=_.floor(u/4294967296),f[(A+64>>>9<<4)+15]=u,c.sigBytes=4*f.length,this._process(),this._hash},clone:function(){var c=t.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA256=t._createHelper(o),r.HmacSHA256=t._createHmacHelper(o)})(Math);(function(){var _=ee,r=_.enc.Utf8;_.algo.HMAC=_.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,typeof t=="string"&&(t=r.parse(t));var i=e.blockSize,s=4*i;t.sigBytes>s&&(t=e.finalize(t)),t.clamp();for(var l=this._oKey=t.clone(),a=this._iKey=t.clone(),d=l.words,m=a.words,T=0;T<i;T++)d[T]^=1549556828,m[T]^=909522486;l.sigBytes=a.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})})();(function(){var _=ee,r=_.lib.WordArray;_.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,s=this._map;e.clamp(),e=[];for(var l=0;l<i;l+=3)for(var a=(t[l>>>2]>>>24-8*(l%4)&255)<<16|(t[l+1>>>2]>>>24-8*((l+1)%4)&255)<<8|t[l+2>>>2]>>>24-8*((l+2)%4)&255,d=0;4>d&&l+.75*d<i;d++)e.push(s.charAt(a>>>6*(3-d)&63));if(t=s.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,i=this._map,s=i.charAt(64);s&&(s=e.indexOf(s),s!=-1&&(t=s));for(var s=[],l=0,a=0;a<t;a++)if(a%4){var d=i.indexOf(e.charAt(a-1))<<2*(a%4),m=i.indexOf(e.charAt(a))>>>6-2*(a%4);s[l>>>2]|=(d|m)<<24-8*(l%4),l++}return r.create(s,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(_){for(var r=ee,o=r.lib,e=o.WordArray,t=o.Hasher,o=r.algo,i=[],s=[],l=function(f){return 4294967296*(f-(f|0))|0},a=2,d=0;64>d;){var m;e:{m=a;for(var T=_.sqrt(m),S=2;S<=T;S++)if(!(m%S)){m=!1;break e}m=!0}m&&(8>d&&(i[d]=l(_.pow(a,.5))),s[d]=l(_.pow(a,1/3)),d++),a++}var I=[],o=o.SHA256=t.extend({_doReset:function(){this._hash=new e.init(i.slice(0))},_doProcessBlock:function(c,f){for(var u=this._hash.words,A=u[0],G=u[1],C=u[2],V=u[3],v=u[4],te=u[5],re=u[6],me=u[7],N=0;64>N;N++){if(16>N)I[N]=c[f+N]|0;else{var H=I[N-15],k=I[N-2];I[N]=((H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3)+I[N-7]+((k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10)+I[N-16]}H=me+((v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25))+(v&te^~v&re)+s[N]+I[N],k=((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+(A&G^A&C^G&C),me=re,re=te,te=v,v=V+H|0,V=C,C=G,G=A,A=H+k|0}u[0]=u[0]+A|0,u[1]=u[1]+G|0,u[2]=u[2]+C|0,u[3]=u[3]+V|0,u[4]=u[4]+v|0,u[5]=u[5]+te|0,u[6]=u[6]+re|0,u[7]=u[7]+me|0},_doFinalize:function(){var c=this._data,f=c.words,u=8*this._nDataBytes,A=8*c.sigBytes;return f[A>>>5]|=128<<24-A%32,f[(A+64>>>9<<4)+14]=_.floor(u/4294967296),f[(A+64>>>9<<4)+15]=u,c.sigBytes=4*f.length,this._process(),this._hash},clone:function(){var c=t.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA256=t._createHelper(o),r.HmacSHA256=t._createHmacHelper(o)})(Math);ke.enc={Base64:ee.enc.Base64,Utf8:ee.enc.Utf8,Latin1:ee.enc.Latin1};ke.SHA256=ee.SHA256;ke.HmacSHA256=ee.HmacSHA256;const Ke=ke,Zt={alg:"HS256",typ:"JWT"};function st(_){return Ke.enc.Base64.stringify(_).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jt(_,r,e={}){const t=Object.assign(Zt,e);if(t.alg!=="HS256"&&t.typ!=="JWT")throw new Error("jwt-encode only support the HS256 algorithm and the JWT type of hash");const i=$e(t),s=$e(_);let l=`${i}.${s}`;return l=Ke.HmacSHA256(l,r),l=st(l),`${i}.${s}.${l}`}function $e(_){const r=Ke.enc.Utf8.parse(JSON.stringify(_));return st(r)}var $t=Jt;const qt="https://sdk.crazygames.com/crazygames-sdk-v3.js";var ce,ae,ye,ve,We;class Xt extends q{constructor(){super(...arguments);O(this,ve);O(this,ce,!1);O(this,ae,!1);O(this,ye,{adStarted:()=>{h(this,ce)?this._setRewardedState(g.OPENED):this._setInterstitialState(D.OPENED)},adFinished:()=>{h(this,ce)?(this._setRewardedState(g.REWARDED),this._setRewardedState(g.CLOSED)):this._setInterstitialState(D.CLOSED)},adError:()=>{h(this,ce)?this._setRewardedState(g.FAILED):this._setInterstitialState(D.FAILED)}})}get platformId(){return L.CRAZY_GAMES}get platformLanguage(){return h(this,ae)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():super.platformLanguage}get isPlayerAuthorizationSupported(){return h(this,ae)}get deviceType(){if(h(this,ae)){const e=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([F.DESKTOP,F.MOBILE,F.TABLET].includes(e))return e}return super.deviceType}get isExternalLinksAllowed(){return!0}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);return e||(e=this._createPromiseDecorator(n.INITIALIZE),le(qt).then(()=>{Ee("CrazyGames","SDK","init").then(()=>{this._platformSdk=window.CrazyGames.SDK,this._defaultStorageType=E.LOCAL_STORAGE,this._isBannerSupported=!0,this._platformSdk.init().then(()=>{R(this,ae,this._platformSdk.user.isUserAccountAvailable);const t=p(this,ve,We).call(this);Promise.all([t]).finally(()=>{this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE)})})})})),e.promise}authorizePlayer(){if(!h(this,ae))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();let e=this._getPromiseDecorator(n.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(n.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then(()=>{p(this,ve,We).call(this).then(()=>{this._resolvePromiseDecorator(n.AUTHORIZE_PLAYER)})}).catch(t=>{this._rejectPromiseDecorator(n.AUTHORIZE_PLAYER,t)})),e.promise}sendMessage(e){switch(e){case J.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case J.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case J.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case J.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case J.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return super.sendMessage(e)}}isStorageSupported(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageSupported(e)}isStorageAvailable(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageAvailable(e)}getDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise(i=>{if(Array.isArray(e)){const l=[];e.forEach(a=>{let d=this._platformSdk.data.getItem(a);try{d=JSON.parse(d)}catch{}l.push(d)}),i(l)}let s=this._platformSdk.data.getItem(e);try{s=JSON.parse(s)}catch{}i(s)}):super.getDataFromStorage(e,t)}setDataToStorage(e,t,i){if(i===E.PLATFORM_INTERNAL){if(Array.isArray(e)){const l=[];for(let a=0;a<e.length;a++){let d=t[a];typeof t[a]!="string"&&(d=JSON.stringify(t[a])),l.push(this._platformSdk.data.setItem(e[a],d))}return Promise.all(l)}let s=t;return typeof t!="string"&&(s=JSON.stringify(t)),new Promise((l,a)=>{this._platformSdk.data.setItem(e,s).then(()=>{l()}).catch(d=>{a(d)})})}return super.setDataToStorage(e,t,i)}deleteDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?Array.isArray(e)?(e.forEach(i=>this._platformSdk.data.removeItem(i)),Promise.resolve()):(this._platformSdk.data.removeItem(e),Promise.resolve()):super.deleteDataFromStorage(e,t)}showBanner(e){e&&e.containerId&&typeof e.containerId=="string"?this._platformSdk.banner.requestResponsiveBanner([e.containerId]).then(()=>{this._setBannerState(w.SHOWN)}).catch(()=>{this._setBannerState(w.FAILED)}):this._setBannerState(w.FAILED)}hideBanner(){this._platformSdk.banner.clearAllBanners(),this._setBannerState(w.HIDDEN)}showInterstitial(){R(this,ce,!1),this._platformSdk.ad.requestAd("midgame",h(this,ye))}showRewarded(){R(this,ce,!0),this._platformSdk.ad.requestAd("rewarded",h(this,ye))}}ce=new WeakMap,ae=new WeakMap,ye=new WeakMap,ve=new WeakSet,We=function(){return h(this,ae)?new Promise((e,t)=>{this._platformSdk.user.getUserToken().then(i=>{const s=$t.jwtDecode(i);this._isPlayerAuthorized=!0,this._defaultStorageType=E.PLATFORM_INTERNAL,s.userId&&(this._playerId=s.userId),s.username&&(this._playerName=s.username),s.profilePictureUrl&&(this._playerPhotos=[s.profilePictureUrl]),e()}).catch(i=>{t(i)})}):Promise.reject()};const Qt="https://unpkg.com/@agru/sdk/dist/umd/index.min.js";var Ge,at;class er extends q{constructor(){super(...arguments);O(this,Ge)}get platformId(){return L.ABSOLUTE_GAMES}get isPlayerAuthorizationSupported(){return!0}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);return e||(e=this._createPromiseDecorator(n.INITIALIZE),le(Qt).then(()=>{this._platformSdk=new window.AgRuSdk,this._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(i,s)=>{switch(i.type){case"rewarded":{s===null?i.status?this._setRewardedState(g.OPENED):(i.reward&&this._setRewardedState(g.REWARDED),this._setRewardedState(g.CLOSED)):this._setRewardedState(g.FAILED);break}case"default":default:{s===null?i.status?this._setInterstitialState(D.OPENED):this._setInterstitialState(D.CLOSED):this._setInterstitialState(D.FAILED);break}}});const t=p(this,Ge,at).call(this);Promise.all([t]).finally(()=>{this._isInitialized=!0,this._defaultStorageType=this._isPlayerAuthorized?E.PLATFORM_INTERNAL:E.LOCAL_STORAGE,this._resolvePromiseDecorator(n.INITIALIZE)})})),e.promise}authorizePlayer(){if(this._isPlayerAuthorized)return Promise.resolve();let e=this._getPromiseDecorator(n.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(n.AUTHORIZE_PLAYER),this._platformSdk.authorize((t,i)=>{i===null?this._resolvePromiseDecorator(n.AUTHORIZE_PLAYER):this._rejectPromiseDecorator(n.AUTHORIZE_PLAYER,i)})),e.promise}isStorageSupported(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageSupported(e)}isStorageAvailable(e){return e===E.PLATFORM_INTERNAL?this._isPlayerAuthorized:super.isStorageAvailable(e)}getDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise((i,s)=>{if(this._platformStorageCachedData){if(Array.isArray(e)){const l=[];for(let a=0;a<e.length;a++){const d=typeof this._platformStorageCachedData[e[a]]>"u"?null:this._platformStorageCachedData[e[a]];l.push(d)}i(l);return}i(typeof this._platformStorageCachedData[e]>"u"?null:this._platformStorageCachedData[e]);return}this._isPlayerAuthorized?this._platformSdk.getSaveData((l,a)=>{if(a===null){if(this._platformStorageCachedData=l||{},Array.isArray(e)){const d=[];for(let m=0;m<e.length;m++){const T=typeof this._platformStorageCachedData[e[m]]>"u"?null:this._platformStorageCachedData[e[m]];d.push(T)}i(d);return}i(typeof this._platformStorageCachedData[e]>"u"?null:this._platformStorageCachedData[e])}else s(a)}):s()}):super.getDataFromStorage(e,t)}setDataToStorage(e,t,i){return i===E.PLATFORM_INTERNAL?new Promise((s,l)=>{if(this._isPlayerAuthorized){const a=this._platformStorageCachedData!==null?{...this._platformStorageCachedData}:{};if(Array.isArray(e))for(let d=0;d<e.length;d++)a[e[d]]=t[d];else a[e]=t;this._platformSdk.setSaveData(a,(d,m)=>{m===null&&(this._platformStorageCachedData=a,s()),l(m)})}else l()}):super.setDataToStorage(e,t,i)}deleteDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise((i,s)=>{if(this._isPlayerAuthorized){const l=this._platformStorageCachedData!==null?{...this._platformStorageCachedData}:{};if(Array.isArray(e))for(let a=0;a<e.length;a++)delete l[e[a]];else delete l[e];this._platformSdk.setSaveData(l,(a,d)=>{d===null&&(this._platformStorageCachedData=l,i()),s(d)})}else s()}):super.deleteDataFromStorage(e,t)}showInterstitial(){this._platformSdk.showCampaign("default")}showRewarded(){this._platformSdk.showCampaign("rewarded")}}Ge=new WeakSet,at=function(){return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized=this._platformSdk.options.guest==="false",new Promise(e=>{this._platformSdk.getUsers([this._playerId],t=>{if(t&&t.length===1){const i=t[0];this._playerName=i.full_name,i.avatar!==""&&(this._playerPhotos=[i.avatar])}e()})})};const tr="https://html5.api.gamedistribution.com/main.min.js";var Se;class rr extends q{constructor(){super(...arguments);O(this,Se,!1)}get platformId(){return L.GAME_DISTRIBUTION}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(n.INITIALIZE),!this._options||typeof this._options.gameId!="string")this._rejectPromiseDecorator(n.INITIALIZE,z.GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED);else{const t=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent(i){switch(i.name){case"SDK_READY":t._platformSdk=window.gdsdk,t._platformSdk.preloadAd("rewarded"),t._isInitialized=!0,t._resolvePromiseDecorator(n.INITIALIZE);break;case"SDK_GAME_START":h(t,Se)?t._setRewardedState(g.CLOSED):t._setInterstitialState(D.CLOSED);break;case"SDK_GAME_PAUSE":h(t,Se)?t._setRewardedState(g.OPENED):t._setInterstitialState(D.OPENED);break;case"SDK_REWARDED_WATCH_COMPLETE":t._setRewardedState(g.REWARDED);break}}},this._defaultStorageType=E.LOCAL_STORAGE,this._isBannerSupported=!0,le(tr)}return e.promise}showBanner(e){e&&e.containerId&&typeof e.containerId=="string"?this._platformSdk.showAd("display",{containerId:e.containerId}).then(()=>{this._setBannerState(w.SHOWN)}).catch(()=>{this._setBannerState(w.FAILED)}):this._setBannerState(w.FAILED)}hideBanner(){this._setBannerState(w.HIDDEN)}showInterstitial(){R(this,Se,!1),this._platformSdk?this._platformSdk.showAd().catch(()=>{this._setInterstitialState(D.FAILED)}):this._setInterstitialState(D.FAILED)}showRewarded(){R(this,Se,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch(()=>{this._setRewardedState(g.FAILED)}):this._setRewardedState(g.FAILED)}}Se=new WeakMap;var _e,j,ot,nt,lt,ht,dt,ut;class ir extends q{constructor(){super(...arguments);O(this,j);O(this,_e,!1)}get platformId(){return L.VK_PLAY}get isPlayerAuthorizationSupported(){return!0}get isClipboardSupported(){return!1}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(n.INITIALIZE),!this._options||!this._options.gameId)this._rejectPromiseDecorator(n.INITIALIZE,z.VK_PLAY_GAME_ID_IS_UNDEFINED);else{const{gameId:t}=this._options,i={appid:t,userProfileCallback:s=>p(this,j,lt).call(this,s),getLoginStatusCallback:s=>p(this,j,nt).call(this,s),registerUserCallback:s=>p(this,j,ht).call(this,s),adsCallback:s=>p(this,j,ot).call(this,s),getGameInventoryItemsCallback:s=>p(this,j,dt).call(this,s),paymentReceivedCallback:s=>p(this,j,ut).call(this,s)};le(`https://vkplay.ru/app/${t}/static/mailru.core.js`).then(()=>{Ee("iframeApi").then(()=>{window.iframeApi(i).then(s=>{this._platformSdk=s,this._platformSdk.getLoginStatus()})})})}return e.promise}showInterstitial(){R(this,_e,!1),this._platformSdk.showAds({interstitial:!0}).then(()=>{this._setInterstitialState(D.OPENED)}).catch(()=>{this._setInterstitialState(D.FAILED)})}showRewarded(){R(this,_e,!0),this._platformSdk.showAds({interstitial:!1}).then(()=>{this._setRewardedState(g.OPENED)}).catch(()=>{this._setRewardedState(g.FAILED)})}authorizePlayer(){if(this._isPlayerAuthorized)return Promise.resolve();let e=this._getPromiseDecorator(n.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(n.AUTHORIZE_PLAYER),this._platformSdk.registerUser()),e}getPaymentsCatalog(){let e=this._getPromiseDecorator(n.GET_CATALOG);return e||(e=this._createPromiseDecorator(n.GET_CATALOG),this._platformSdk.getGameInventoryItems()),e.promise}purchase(e){if(!e)return Promise.reject();let t=this._getPromiseDecorator(n.PURCHASE);return t||(t=this._createPromiseDecorator(n.PURCHASE),this._platformSdk.paymentFrameItem(e)),t.promise}}_e=new WeakMap,j=new WeakSet,ot=function(e){const t=e.code&&e.code==="AdsNotFound";switch(e.type){case"adCompleted":h(this,_e)?(this._setRewardedState(g.REWARDED),this._setRewardedState(g.CLOSED)):this._setInterstitialState(D.CLOSED);break;case"adError":h(this,_e)?this._setRewardedState(g.FAILED):this._setInterstitialState(D.FAILED);break;case"adDismissed":h(this,_e)?this._setRewardedState(t?g.FAILED:g.CLOSED):this._setInterstitialState(t?D.FAILED:D.CLOSED);break}},nt=function(e){e&&e.status==="ok"&&(this._isPlayerAuthorized=e.loginStatus===2||e.loginStatus===3),this._isPlayerAuthorized?this._platformSdk.userProfile():(this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE))},lt=function(e){e.status==="ok"&&(this._playerId=e.uid,this._playerName=e.nick,this._playerPhotos=[e.avatar]),this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE)},ht=function(e){e.status==="ok"?(this._resolvePromiseDecorator(n.AUTHORIZE_PLAYER),this._platformSdk.reloadWindow()):this._rejectPromiseDecorator(n.AUTHORIZE_PLAYER,e.errmsg)},dt=function(e){if((e==null?void 0:e.length)===0){this._rejectPromiseDecorator(n.GET_CATALOG);return}this._resolvePromiseDecorator(n.GET_CATALOG,e)},ut=function(e){if(e&&e.uid){this._resolvePromiseDecorator(n.PURCHASE,e.uid);return}this._rejectPromiseDecorator(n.PURCHASE)};const sr="//api.ok.ru/js/fapi5.js",qe="AUTHORIZED",ze={VALUABLE_ACCESS:"VALUABLE_ACCESS",PHOTO_CONTENT:"PHOTO_CONTENT"};var P,Me,be,ct,_t,pt,mt,ft,St,At,gt,Et,It,Dt,Pt,Tt,Rt,Lt,Ot;class ar extends q{constructor(){super(...arguments);O(this,P);M(this,"_hasValuableAccessPermission",!1);M(this,"_hasValuableAccessPermissionShowed",!1);M(this,"_platformBannerOptions",{})}get platformId(){return L.OK}get isPlayerAuthorizationSupported(){return!0}get isBannerSupported(){return!0}get isJoinCommunitySupported(){return!0}get isInviteFriendsSupported(){return!0}get isCreatePostSupported(){return!0}get isRateSupported(){return!0}get isClipboardSupported(){return!1}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);return e||(e=this._createPromiseDecorator(n.INITIALIZE),le(sr).then(()=>{Ee("FAPI").then(()=>{this._platformSdk=window.FAPI,window.API_callback=(i,s,l)=>h(this,P,ct)[i](s,l);const t=this._platformSdk.Util.getRequestParameters()||{};!t.api_server||!t.apiconnection?this._rejectPromiseDecorator(n.INITIALIZE,z.OK_GAME_PARAMS_NOT_FOUND):this._platformSdk.init(t.api_server,t.apiconnection,()=>{var s;const i=(s=this._platformSdk)==null?void 0:s.saved_state;this._isPlayerAuthorized=i?i===qe:!0,this._isPlayerAuthorized?this._platformSdk.Client.call(h(this,P,Me).userProfile,h(this,P,be).userProfileCallback):(this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE))},()=>{this._rejectPromiseDecorator(n.INITIALIZE)})})})),e.promise}authorizePlayer(){if(this._isPlayerAuthorized)return Promise.resolve();let e=this._getPromiseDecorator(n.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(n.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(qe)),e.promise}isStorageSupported(e){return e===E.PLATFORM_INTERNAL?!0:super.isStorageSupported(e)}isStorageAvailable(e){return e===E.PLATFORM_INTERNAL?this._hasValuableAccessPermission:super.isStorageAvailable(e)}getDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((i,s)=>{const l=Array.isArray(e)?e:[e],a={method:"storage.get",keys:l,scope:"CUSTOM"};this._platformSdk.Client.call(a,(d,m,T)=>{if(m){const S=m.data||{};if(Array.isArray(e)){const o=[];l.forEach(c=>{if(S[c]===""||S[c]===void 0){o.push(null);return}let f;try{f=JSON.parse(S[c])}catch{f=S[c]}o.push(f)}),i(o);return}if(S[e]===""||S[e]===void 0){i(null);return}let I;try{I=JSON.parse(S[e])}catch{I=S[e]}i(I)}else s(T)})}):Promise.reject(z.STORAGE_NOT_AVAILABLE):super.getDataFromStorage(e,t)}setDataToStorage(e,t,i){if(i===E.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(z.STORAGE_NOT_AVAILABLE);const s=Array.isArray(e)?e:[e],l=Array.isArray(e)?t:[t],a=[];for(let d=0;d<s.length;d++){const m=s[d];let T=l[d];typeof T!="string"&&(T=JSON.stringify(T));const S={method:"storage.set",key:m,value:T},I=new Promise((o,c)=>{this._platformSdk.Client.call(S,(f,u)=>{u?o():c()})});a.push(I)}return Promise.all(a)}return super.setDataToStorage(e,t,i)}deleteDataFromStorage(e,t){if(t===E.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(z.STORAGE_NOT_AVAILABLE);const i=Array.isArray(e)?e:[e],s=[];for(let l=0;l<i.length;l++){const d={method:"storage.set",key:i[l]},m=new Promise((T,S)=>{this._platformSdk.Client.call(d,(I,o)=>{o?T():S()})});s.push(m)}return Promise.all(s)}return super.deleteDataFromStorage(e,t)}showInterstitial(){try{this._platformSdk.UI.showAd()}catch{this._setInterstitialState(D.FAILED)}}showRewarded(){try{this._platformSdk.UI.loadAd()}catch{this._setRewardedState(g.FAILED)}}showBanner(e){const t="bottom";if(e){if(typeof e.layoutType=="string"){this._platformBannerOptions={...e,layoutType:null},this._platformSdk.invokeUIMethod("setBannerFormat",e.layoutType);return}if(typeof e.position=="string"){this._platformSdk.invokeUIMethod("requestBannerAds",e.position);return}}this._platformSdk.invokeUIMethod("requestBannerAds",t)}hideBanner(){this._platformSdk.invokeUIMethod("hideBannerAds")}inviteFriends(e){const{text:t}=e||{};if(!e||typeof t!="string")return Promise.reject();let i=this._getPromiseDecorator(n.INVITE_FRIENDS);return i||(i=this._createPromiseDecorator(n.INVITE_FRIENDS),t.length>120?this._rejectPromiseDecorator(n.INVITE_FRIENDS,z.INVITE_FRIENDS_MESSAGE_LENGTH_ERROR):this._platformSdk.UI.showInvite(t)),i.promise}rate(){let e=this._getPromiseDecorator(n.RATE);return e||(e=this._createPromiseDecorator(n.RATE),this._platformSdk.UI.showRatingDialog()),e.promise}createPost(e){if(!e||!(e!=null&&e.media))return Promise.reject();let t=this._getPromiseDecorator(n.CREATE_POST);return t||(t=this._createPromiseDecorator(n.CREATE_POST),this._platformSdk.UI.postMediatopic(e,e.status??!1)),t.promise}joinCommunity(e){if(!e||!(e!=null&&e.groupId))return Promise.reject();let t=this._getPromiseDecorator(n.JOIN_COMMUNITY);return t||(t=this._createPromiseDecorator(n.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(e.groupId,e.enableMessages??!1)),t.promise}}P=new WeakSet,Me=function(){return{userProfile:{fields:"uid,name,pic50x50,pic128x128,pic_base",method:"users.getCurrentUser"},hasAppPermission:e=>({method:"users.hasAppPermission",ext_perm:e})}},be=function(){return{userProfileCallback:(e,t,i)=>p(this,P,_t).call(this,e,t,i),hasValueAccessCallback:(e,t,i)=>p(this,P,mt).call(this,t,i)}},ct=function(){return{showPermissions:()=>p(this,P,ft).call(this),loadAd:e=>p(this,P,St).call(this,e),showLoadedAd:(e,t)=>p(this,P,At).call(this,t),showAd:(e,t)=>p(this,P,gt).call(this,t),requestBannerAds:(e,t)=>p(this,P,Et).call(this,e,t),showBannerAds:(e,t)=>p(this,P,Dt).call(this,t),hideBannerAds:(e,t)=>p(this,P,It).call(this,t),setBannerFormat:e=>p(this,P,Pt).call(this,e),showInvite:e=>p(this,P,Tt).call(this,e),showRatingDialog:(e,t)=>p(this,P,Rt).call(this,e,t),joinGroup:(e,t)=>p(this,P,Lt).call(this,e,t),showLoginSuggestion:(e,t)=>p(this,P,pt).call(this,e,t),postMediatopic:(e,t)=>p(this,P,Ot).call(this,e,t)}},_t=function(e,t){e==="ok"&&(this._playerId=t.uid,this._playerName=t.name,this._playerPhotos=[t.pic50x50,t.pic128x128,t.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(h(this,P,Me).hasAppPermission(ze.VALUABLE_ACCESS),h(this,P,be).hasValueAccessCallback)},pt=function(e,t){if(e==="error"){this._isPlayerAuthorized=!1,this._rejectPromiseDecorator(n.AUTHORIZE_PLAYER,t);return}this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(n.AUTHORIZE_PLAYER)},mt=function(e){if(this._hasValuableAccessPermission=!!e,this._defaultStorageType=this._hasValuableAccessPermission?E.PLATFORM_INTERNAL:E.LOCAL_STORAGE,!this._hasValuableAccessPermission&&!this._hasValuableAccessPermissionShowed){const t=Object.values(ze).map(i=>`"${i}"`).join(",");this._platformSdk.UI.showPermissions(`[${t}]`)}else this._resolvePromiseDecorator(n.INITIALIZE)},ft=function(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(h(this,P,Me).hasAppPermission(ze.VALUABLE_ACCESS),h(this,P,be).hasValueAccessCallback)},St=function(e){e==="error"?this._setRewardedState(g.FAILED):(this._setRewardedState(g.OPENED),this._platformSdk.UI.showLoadedAd())},At=function(e){switch(e){case"complete":this._setRewardedState(g.REWARDED),this._setRewardedState(g.CLOSED);break;case"skip":this._setRewardedState(g.CLOSED);break;case"not_prepared":case"mp4_not_supported":case"app_in_fullscreen":default:this._setRewardedState(g.FAILED);break}},gt=function(e){switch(e){case"ready":case"ad_prepared":break;case"ad_shown":this._setInterstitialState(D.OPENED),this._setInterstitialState(D.CLOSED);break;case"no_ads":case"call_limit":case"in_use":case"app_in_fullscreen":default:this._setInterstitialState(D.FAILED);break}},Et=function(e,t){if(e==="error"){this._setBannerState(w.FAILED);return}switch(t){case"ad_loaded":this._platformSdk.invokeUIMethod("showBannerAds");break;case"banner_shown":case"ad_shown":this._setBannerState(w.SHOWN);break;case"hidden_by_user":this._setBannerState(w.HIDDEN);break}},It=function(e){e?this._setBannerState(w.HIDDEN):this._setBannerState(w.FAILED)},Dt=function(e){e||this._setBannerState(w.FAILED)},Pt=function(e){e==="error"?this._setBannerState(w.FAILED):this.showBanner(this._platformBannerOptions)},Tt=function(e){e==="error"?this._rejectPromiseDecorator(n.INVITE_FRIENDS):this._resolvePromiseDecorator(n.INVITE_FRIENDS)},Rt=function(e,t){e==="error"?this._rejectPromiseDecorator(n.RATE,t):this._resolvePromiseDecorator(n.RATE)},Lt=function(e,t){e==="error"?this._rejectPromiseDecorator(n.JOIN_COMMUNITY,t):this._resolvePromiseDecorator(n.JOIN_COMMUNITY)},Ot=function(e,t){e==="error"?this._rejectPromiseDecorator(n.CREATE_POST,t):this._resolvePromiseDecorator(n.CREATE_POST)};const or="https://developer.playgama.com/sdk/v1.js";class nr extends q{get platformId(){return L.PLAYGAMA}initialize(){if(this._isInitialized)return Promise.resolve();let r=this._getPromiseDecorator(n.INITIALIZE);return r||(r=this._createPromiseDecorator(n.INITIALIZE),le(or).then(()=>{Ee("PLAYGAMA_SDK").then(()=>{this._platformSdk=window.PLAYGAMA_SDK,this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE)})})),r.promise}showInterstitial(){this._platformSdk.advService.showInterstitial({onOpen:()=>{this._setInterstitialState(D.OPENED)},onEmpty:()=>{this._setInterstitialState(D.FAILED)},onClose:()=>{this._setInterstitialState(D.CLOSED)},onError:()=>{this._setInterstitialState(D.FAILED)}})}showRewarded(){this._platformSdk.advService.showRewarded({onOpen:()=>{this._setRewardedState(g.OPENED)},onRewarded:()=>{this._setRewardedState(g.REWARDED)},onEmpty:()=>{this._setRewardedState(g.FAILED)},onClose:()=>{this._setRewardedState(g.CLOSED)},onError:()=>{this._setRewardedState(g.FAILED)}})}}const lr="https://storage.googleapis.com/cdn-wortal-ai/v2/wortal-core.js";var Ae,Fe,wt;class hr extends q{constructor(){super(...arguments);O(this,Fe);O(this,Ae)}get platformId(){return L.WORTAL}get platformLanguage(){if(this._platformSdk){const e=this._platformSdk.session.getLocale();if(e)return e.toLowerCase().slice(0,2)}return super.platformLanguage}get deviceType(){const e=this._platformSdk.session.getDevice();return e?e.toLowerCase():super.deviceType}initialize(){if(this._isInitialized)return Promise.resolve();let e=this._getPromiseDecorator(n.INITIALIZE);return e||(e=this._createPromiseDecorator(n.INITIALIZE),le(lr).then(()=>{Ee("Wortal","initializeAsync").then(()=>{window.Wortal.initializeAsync().then(()=>{this._platformSdk=window.Wortal,R(this,Ae,this._platformSdk.getSupportedAPIs()),this._isBannerSupported=h(this,Ae).includes("ads.showBanner"),this._platformSdk.player.onLogin(p(this,Fe,wt)),this._isInitialized=!0,this._resolvePromiseDecorator(n.INITIALIZE)})})})),e.promise}sendMessage(e){switch(e){case J.GAMEPLAY_STARTED:return this._platformSdk.session.gameplayStart(),Promise.resolve();case J.GAMEPLAY_STOPPED:return this._platformSdk.session.gameplayStop(),Promise.resolve();case J.GAME_READY:return this._platformSdk.setLoadingProgress(100),this._platformSdk.startGameAsync(),Promise.resolve();case J.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.session.happyTime(),Promise.resolve();default:return super.sendMessage(e)}}showBanner(e){let t="bottom";e&&typeof e.position=="string"&&(t=e.position),this._platformSdk.ads.showBanner(!0,t),this._setBannerState(w.SHOWN)}hideBanner(){this._platformSdk.ads.showBanner(!1),this._setBannerState(w.HIDDEN)}showInterstitial(e){let t="next",i="NextLevel";e&&(e.placement&&(t=e.placement),e.description&&(i=e.description)),this._platformSdk.ads.showInterstitial(t,i,()=>{this._setInterstitialState(D.OPENED)},()=>{this._setInterstitialState(D.CLOSED)},()=>{this._setInterstitialState(D.FAILED)})}showRewarded(e){let t="Bonus";e&&e.description&&(t=e.description),this._platformSdk.ads.showRewarded(t,()=>{this._setRewardedState(g.OPENED)},()=>{this._setRewardedState(g.CLOSED)},()=>{this._setRewardedState(g.CLOSED)},()=>{this._setRewardedState(g.REWARDED)},()=>{this._setRewardedState(g.FAILED)})}isStorageSupported(e){return e===E.PLATFORM_INTERNAL?h(this,Ae).includes("player.setDataAsync"):super.isStorageSupported(e)}isStorageAvailable(e){return e===E.PLATFORM_INTERNAL?h(this,Ae).includes("player.setDataAsync"):super.isStorageAvailable(e)}getDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise((i,s)=>{const l=Array.isArray(e)?e:[e];this._platformSdk.player.getDataAsync(l).then(a=>{if(this._platformStorageCachedData||(this._platformStorageCachedData={}),Array.isArray(e)){const m=[];for(let T=0;T<e.length;T++){const S=typeof a[e[T]]>"u"?null:a[e[T]];m.push(S),this._platformStorageCachedData[e[T]]=S}i(m);return}const d=typeof a[e]>"u"?null:a[e];this._platformStorageCachedData[e]=d,i(d)}).catch(a=>s(a))}):super.getDataFromStorage(e,t)}setDataToStorage(e,t,i){return i===E.PLATFORM_INTERNAL?new Promise((s,l)=>{const a=this._platformStorageCachedData!==null?{...this._platformStorageCachedData}:{};if(Array.isArray(e))for(let d=0;d<e.length;d++)a[e[d]]=t[d];else a[e]=t;this._platformSdk.player.setDataAsync(a).then(()=>{this._platformStorageCachedData=a,s()}).catch(d=>l(d))}):super.setDataToStorage(e,t,i)}deleteDataFromStorage(e,t){return t===E.PLATFORM_INTERNAL?new Promise((i,s)=>{const l=this._platformStorageCachedData!==null?{...this._platformStorageCachedData}:{};if(Array.isArray(e))for(let a=0;a<e.length;a++)delete l[e[a]];else delete l[e];this._platformSdk.player.setDataAsync(l).then(()=>{this._platformStorageCachedData=l,i()}).catch(a=>s(a))}):super.deleteDataFromStorage(e,t)}}Ae=new WeakMap,Fe=new WeakSet,wt=function(){this._playerId=this._platformSdk.player.getId(),this._playerName=this._platformSdk.player.getName(),this._playerPhotos=[this._platformSdk.player.getPhoto()]};var ge,oe,y,U,b,Nt,xe,W;class dr{constructor(){O(this,b);O(this,ge,!1);O(this,oe,null);O(this,y,null);O(this,U,{})}get version(){return Xe}get isInitialized(){return h(this,ge)}get platform(){return p(this,b,W).call(this,B.PLATFORM)}get player(){return p(this,b,W).call(this,B.PLAYER)}get game(){return p(this,b,W).call(this,B.GAME)}get storage(){return p(this,b,W).call(this,B.STORAGE)}get advertisement(){return p(this,b,W).call(this,B.ADVERTISEMENT)}get social(){return p(this,b,W).call(this,B.SOCIAL)}get device(){return p(this,b,W).call(this,B.DEVICE)}get leaderboard(){return p(this,b,W).call(this,B.LEADERBOARD)}get payments(){return p(this,b,W).call(this,B.PAYMENTS)}get remoteConfig(){return p(this,b,W).call(this,B.REMOTE_CONFIG)}get clipboard(){return p(this,b,W).call(this,B.CLIPBOARD)}get PLATFORM_ID(){return L}get PLATFORM_MESSAGE(){return J}get MODULE_NAME(){return B}get EVENT_NAME(){return Y}get INTERSTITIAL_STATE(){return D}get REWARDED_STATE(){return g}get BANNER_STATE(){return w}get STORAGE_TYPE(){return E}get VISIBILITY_STATE(){return Pe}get DEVICE_TYPE(){return F}initialize(r){return h(this,ge)?Promise.resolve():(h(this,oe)||(R(this,oe,new Qe),this._options={...r},p(this,b,Nt).call(this),h(this,y).initialize().then(()=>{h(this,U)[B.PLATFORM]=new Ct(h(this,y)),h(this,U)[B.PLAYER]=new Mt(h(this,y)),h(this,U)[B.GAME]=new tt(h(this,y)),h(this,U)[B.STORAGE]=new Ft(h(this,y)),h(this,U)[B.ADVERTISEMENT]=new it(h(this,y)),h(this,U)[B.SOCIAL]=new Ht(h(this,y)),h(this,U)[B.DEVICE]=new kt(h(this,y)),h(this,U)[B.LEADERBOARD]=new Ut(h(this,y)),h(this,U)[B.PAYMENTS]=new zt(h(this,y)),h(this,U)[B.REMOTE_CONFIG]=new jt(h(this,y)),h(this,U)[B.CLIPBOARD]=new Vt(h(this,y)),R(this,ge,!0),console.info(`%c InstantGamesBridge v.${this.version} initialized. `,"background: #01A5DA; color: white"),h(this,oe)&&(h(this,oe).resolve(),R(this,oe,null))})),h(this,oe).promise)}}ge=new WeakMap,oe=new WeakMap,y=new WeakMap,U=new WeakMap,b=new WeakSet,Nt=function(){let r=L.MOCK;if(this._options&&this._options.forciblySetPlatformId)r=p(this,b,xe).call(this,this._options.forciblySetPlatformId.toLowerCase());else{const e=new URL(window.location.href),t=["y","a","n","d","e","x",".","n","e","t"].join("");e.searchParams.has("platform_id")?r=p(this,b,xe).call(this,e.searchParams.get("platform_id").toLowerCase()):e.hostname.includes(t)||e.hash.includes("yandex")?r=L.YANDEX:e.hostname.includes("crazygames.")||e.hostname.includes("1001juegos.com")?r=L.CRAZY_GAMES:e.hostname.includes("gamedistribution.com")?r=L.GAME_DISTRIBUTION:e.hostname.includes("wortal.ai")?r=L.WORTAL:e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?r=L.VK:e.searchParams.has("app_id")&&e.searchParams.has("player_id")&&e.searchParams.has("game_sid")&&e.searchParams.has("auth_key")&&(r=L.ABSOLUTE_GAMES)}switch(r){case L.VK:{R(this,y,new Wt(this._options&&this._options.platforms&&this._options.platforms[L.VK]));break}case L.VK_PLAY:{R(this,y,new ir(this._options&&this._options.platforms&&this._options.platforms[L.VK_PLAY]));break}case L.YANDEX:{R(this,y,new Kt(this._options&&this._options.platforms&&this._options.platforms[L.YANDEX]));break}case L.CRAZY_GAMES:{R(this,y,new Xt(this._options&&this._options.platforms&&this._options.platforms[L.CRAZY_GAMES]));break}case L.ABSOLUTE_GAMES:{R(this,y,new er(this._options&&this._options.platforms&&this._options.platforms[L.ABSOLUTE_GAMES]));break}case L.GAME_DISTRIBUTION:{R(this,y,new rr(this._options&&this._options.platforms&&this._options.platforms[L.GAME_DISTRIBUTION]));break}case L.OK:{R(this,y,new ar(this._options&&this._options.platforms&&this._options.platforms[L.OK]));break}case L.PLAYGAMA:{R(this,y,new nr(this._options&&this._options.platforms&&this._options.platforms[L.PLAYGAMA]));break}case L.WORTAL:{R(this,y,new hr(this._options&&this._options.platforms&&this._options.platforms[L.WORTAL]));break}default:{R(this,y,new q);break}}},xe=function(r){const e=Object.values(L);for(let t=0;t<e.length;t++)if(r===e[t])return r;return L.MOCK},W=function(r){return h(this,ge)||console.error(z.SDK_NOT_INITIALIZED),h(this,U)[r]};window.bridge=new dr;window.instantGamesBridge=window.bridge;
